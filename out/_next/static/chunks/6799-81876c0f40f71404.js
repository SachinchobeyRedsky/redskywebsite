"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6799,9706],{82583:function(e,t,n){n.d(t,{db:function(){return u},I:function(){return s}});var r=n(83977),a=n(39828),o=n(91259),i=n(77004),c=(0,r.ZF)({apiKey:"AIzaSyBJA3OU9j2hD3eCcuBK1ufK9KIs7xkijqM",authDomain:"redsky-web.firebaseapp.com",projectId:"redsky-web",storageBucket:"redsky-web.appspot.com",messagingSenderId:"503303012281",appId:"1:503303012281:web:fbadea13c15e03b9c48068",measurementId:"G-75QR2Q2EBR"}),u=(0,a.ad)(c),s=(0,o.v0)(c);(0,i.$C)(c)},86799:function(e,t,n){n.r(t);var r=n(34051),a=n.n(r),o=n(85893),i=n(67294),c=n(97375),u=n(68527),s=n(79762),l=n(4612),d=n(99839),f=n(49609),p=n(59876),x=n(39828),h=n(11163),v=n(91259),b=n(82583),g=n(37241),m=n(5526),y=n(9706);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function A(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(){var e,t=(0,i.useState)(!1),n=t[0],r=(t[1],(0,i.useState)("")),w=r[0],j=r[1],k=(0,i.useState)(""),O=k[0],I=(k[1],(0,i.useState)([])),P=I[0],D=I[1],B=(0,i.useState)(""),E=B[0],T=B[1],Q=(0,i.useState)(!1),M=Q[0],z=Q[1],K=(0,i.useState)(!0),F=(K[0],K[1]),R=(0,i.useState)(0),L=R[0],X=R[1],_=(0,i.useState)(!1),N=_[0],U=_[1],Y=(0,i.useState)(""),J=Y[0],W=Y[1],$=(0,i.useState)({}),q=$[0],Z=$[1],G=(0,i.useState)([]),H=G[0],V=G[1],ee=(0,x.hJ)(b.db,"blogData"),te=(0,x.JU)(b.db,"blogSettings","blogs-counter"),ne=(0,v.v0)(),re=(0,h.useRouter)(),ae=(0,c.qY)(),oe=(ae.isOpen,ae.onOpen,ae.onClose,function(){var e=S(a().mark((function e(t,n){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=n?(0,x.IO)(ee,(0,x.Xo)("createdAt","desc"),(0,x.b9)(t),(0,x.TQ)(n)):(0,x.IO)(ee,(0,x.Xo)("createdAt","desc"),(0,x.b9)(t)),e.next=5,(0,x.PL)(o);case 5:i=e.sent,T(i.docs[i.docs.length-1]),i.forEach((function(e){r.push(C({},e.data(),{id:e.id}))})),D(A(n?new Set(A(P).concat(A(r))):r)),F(!1),z(!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ie=function(){var e=S(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.QT)(te);case 2:t=e.sent,Z(C({},t.data()));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=S(a().mark((function e(t,n,r){var o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],i=r?(0,x.IO)(ee,(0,x.ar)("category","==",n),(0,x.Xo)("createdAt","desc"),(0,x.b9)(t),(0,x.TQ)(r)):(0,x.IO)(ee,(0,x.ar)("category","==",n),(0,x.Xo)("createdAt","desc"),(0,x.b9)(t)),e.next=5,(0,x.PL)(i);case 5:c=e.sent,T(c.docs[c.docs.length-1]),c.forEach((function(e){o.push(C({},e.data(),{id:e.id}))})),D(r?function(e){return A(new Set(A(e).concat(A(o))))}:A(o)),z(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(e){"all"!==e.target.value?(W(e.target.value),U(!0),D([]),V([]),z(!0),setTimeout((function(){ce(24,e.target.value,null)}),1e3)):(W(""),U(!1),D([]),V([]),z(!0),setTimeout((function(){oe(24,null)}),1e3))},se=function(e){j(e)};(0,i.useEffect)((function(){ne.onAuthStateChanged(se)}),[n]),(0,i.useEffect)((function(){z(!0),N||oe(24,null)}),[O]);var le=function(){var e=S(a().mark((function e(t,n,r){var o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),z(!0),D([]),""!==t){e.next=8;break}return e.next=6,oe(n,r);case 6:e.next=17;break;case 8:return o=[],i=r?(0,x.IO)(ee,(0,x.Xo)("createdAt","desc"),(0,x.ar)("titleAsArray","array-contains",t.toLowerCase()),(0,x.b9)(n),(0,x.TQ)(r)):(0,x.IO)(ee,(0,x.ar)("titleAsArray","array-contains",t.toLowerCase()),(0,x.b9)(n)),e.next=13,(0,x.PL)(i);case 13:c=e.sent,T(c.docs[c.docs.length-1]),c.forEach((function(e){o.push(C({},e.data(),{id:e.id}))})),D(A(r?new Set(A(P).concat(A(o))):o));case 17:F(!1),z(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){ie()}),[]),(0,o.jsx)(u.xu,{w:"100%",ml:"6",children:(0,o.jsxs)(u.xu,{bg:"#101114",children:[(0,o.jsxs)(u.xu,{px:["6","6","10","10","10"],children:[(0,o.jsxs)(u.kC,{direction:"row",gap:"20",mt:"6",justifyContent:["flex-start","flex-start","end","end","end"],children:[" ",(0,o.jsx)(u.xu,{display:"flex",w:["60%","60%","50%","25%","25%"],children:(0,o.jsx)(s.NI,{children:(0,o.jsxs)(l.BZ,{children:[(0,o.jsx)(l.II,{color:"brand.white",variant:"flushed",mb:"4",colorScheme:"#faae12",borderBottom:"2px solid #faae12",placeholder:"Search",onChange:function(e){var t=e.target.value;le(t)}}),(0,o.jsx)(l.xW,{bg:"brand.black",ml:"-10",borderTop:"none",borderRight:"none",children:(0,o.jsx)(p.W1,{zIndex:"999",w:4,h:4,color:"white",cursor:"pointer",onClick:function(){getSearchedBlogData(24,O,null)}})})]})})})]}),(0,o.jsxs)(d.mQ,{variant:"soft-rounded",colorScheme:"tranparant",index:L,onChange:function(e){X(e)},children:[(0,o.jsx)(d.td,{p:"4",gap:["8","8","4","4","4"],overflow:"scroll",w:["90vw","90vw","90vw","90vw","90vw"],sx:{whiteSpace:"nowrap",position:"relative","scroll-snap-type":"x mandatory","-webkit-overflow-scrolling":"touch","::-webkit-scrollbar":{display:"none"}},children:m.dY.map((function(e,t){return(0,o.jsx)(d.OK,{onClick:ue,value:e.key,fontSize:"md",bg:"gray.200",_selected:{color:"#faae12",bg:"gray.200",border:"solid 2px #faae01",boxShadow:"0 0 20px  rgba(255, 174, 0, 0.4)"},children:e.keyword},t)}))}),(0,o.jsx)(d.nP,{mt:"2",children:m.dY.map((function(e,t){return(0,o.jsxs)(d.x4,{fontSize:"sm",children:[(0,o.jsx)(u.xu,{mx:"auto",textAlign:"center",children:M?(0,o.jsx)(f.$,{color:"yellow.400",size:"xl",textAlign:"centers"}):null}),(0,o.jsx)(u.kC,{flexDirection:["column","column","column","row","row"],justifyContent:"center",children:(0,o.jsxs)(u.rj,{templateColumns:["repeat(1, 1fr)","repeat(1, 1fr)","repeat(1, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)"],gap:10,children:[" ",H.map((function(e,t){return(0,o.jsx)(u.xu,{cursor:"pointer",children:(0,o.jsx)(g.default,{data:e,currentUser:w,index:t,push:re.push},t)},t)}))]})})]},t)}))})]})]}),(0,o.jsx)(u.xu,{children:(0,o.jsx)(y.default,{lastFetchedDoc:E,currentPageData:function(e){V(A(e))},fetchDataFromDB:N?ce:oe,blogsPerPage:6,visiblePages:4,totalBlogCount:P.length>0?P.length:null===(e=q[N?m.dY[L].key:"all"])||void 0===e?void 0:e.count,fetchedData:P,selectedQueryKey:J})})]})})}},9706:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(85893),a=n(67294),o=n(68527),i=n(15193),c=function(e){var t=(0,a.useRef)();return(0,a.useEffect)((function(){t.current=e}),[e]),t.current},u=function(e){var t,n=e.totalBlogCount,u=e.visiblePages,s=e.blogsPerPage,l=e.fetchDataFromDB,d=e.currentPageData,f=e.lastFetchedDoc,p=e.fetchedData,x=e.selectedQueryKey,h=(0,a.useState)(1),v=h[0],b=h[1],g=(0,a.useState)({start:1,end:n>=s?n:u}),m=g[0],y=g[1],w=c(v),j=Math.ceil(n>=s?n/s:1),S=j>1,k=(0,a.useMemo)((function(){return Array.from({length:m.end-m.start+1},(function(e,t){return m.start+t}))}),[m,v,x]),C=v*s-s,A=v*s,O=function(e){if(b(e),Math.floor((null===k||void 0===k?void 0:k.length)/2)<(null===k||void 0===k?void 0:k.indexOf(e))){var t=m.end+2,n=t-u>0?t-u+1:m.start;y({start:n,end:t<=j?t:j}),l&&l(2*s,f)}else w>e&&Math.floor((null===k||void 0===k?void 0:k.length)/2)>(null===k||void 0===k?void 0:k.indexOf(e))&&(m.start>2?y({start:m.start-2,end:m.end-2}):y({start:1,end:u}))};return(0,a.useEffect)((function(){b(1),y({start:1,end:n>=s?s:n})}),[x,n,s]),(0,a.useEffect)((function(){d&&d(p.slice(C,A))}),[p,A,C]),(0,r.jsx)(r.Fragment,{children:S&&(0,r.jsxs)(o.xu,{display:"flex",justifyContent:"center",my:"8",px:"4",children:[(0,r.jsx)(o.xu,{display:v>1?"":"none",children:(0,r.jsx)(i.zx,{variant:"trainingButton",border:"2px solid #faae12",onClick:function(){return O(v-1)},children:(0,r.jsx)(o.xv,{variant:"gradient",textTransform:"none",children:"Prev"})})}),null===(t=null===k||void 0===k?void 0:k.filter((function(e){return e>0?n>s?e<=Math.ceil(n/s):void 0:n})))||void 0===t?void 0:t.map((function(e,t){return(0,r.jsx)(o.M5,{variant:"trainingButton",mx:[1,1,2,2,2],mt:["2","2","0","0","0"],pb:1,w:["50px","50px","60px","60px","60px"],h:["30px","30px","40px","40px","40px"],borderRadius:"2rem",bg:"gray.300",cursor:"pointer",border:v===e?"solid 2px #faae01":null,boxShadow:v===e?"0 0 20px  rgba(255, 174, 0, 0.6)":null,onClick:function(){return O(e)},children:(0,r.jsx)(o.xv,{fontWeight:"extrabold",variant:v===e?"gradient":"#fff",children:e})},t)})),(0,r.jsx)(i.zx,{variant:"trainingButton",border:"2px solid #faae12",visibility:j>v?"":"hidden",onClick:function(){return O(v+1)},children:(0,r.jsx)(o.xv,{variant:"gradient",textTransform:"none",children:"Next"})})]})})}}}]);