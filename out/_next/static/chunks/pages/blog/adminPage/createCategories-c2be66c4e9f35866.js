(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{20130:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/adminPage/createCategories",function(){return n(83490)}])},82583:function(e,t,n){"use strict";n.d(t,{I:function(){return u},db:function(){return c}});var r=n(83977),a=n(39828),o=n(91259),i=n(77004),s=(0,r.ZF)({apiKey:"AIzaSyBJA3OU9j2hD3eCcuBK1ufK9KIs7xkijqM",authDomain:"redsky-web.firebaseapp.com",projectId:"redsky-web",storageBucket:"redsky-web.appspot.com",messagingSenderId:"503303012281",appId:"1:503303012281:web:fbadea13c15e03b9c48068",measurementId:"G-75QR2Q2EBR"}),c=(0,a.ad)(s),u=(0,o.v0)(s);(0,i.$C)(s)},83490:function(e,t,n){"use strict";n.r(t);var r=n(47568),a=n(26042),o=n(69396),i=n(97582),s=n(85893),c=n(67294),u=n(68527),d=n(4612),l=n(15193),f=n(99839),x=n(68133),h=n(39828),g=n(82583);t.default=function(){var e=(0,c.useState)(""),t=e[0],n=e[1],m=(0,c.useState)([]),b=m[0],p=m[1],v=(0,c.useState)(null),y=v[0],j=v[1],C=function(){var e=(0,r.Z)((function(){var e,r,o,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t.trim()?(e={key:t.toLowerCase().substring(0,3),name:t,createdAt:(0,h.Bt)(),status:"active",count:0},r=(0,h.hJ)(g.db,"categories"),[4,(0,h.PL)((0,h.IO)(r,(0,h.ar)("name","==",t)))]):[3,6];case 1:return(o=i.sent()).empty?[3,3]:(s=o.docs[0],[4,(0,h.r7)(s.ref,(0,a.Z)({},e))]);case 2:return i.sent(),[3,5];case 3:return[4,(0,h.ET)(r,(0,a.Z)({},e))];case 4:i.sent(),i.label=5;case 5:n(""),i.label=6;case 6:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){var e=(0,h.IO)((0,h.hJ)(g.db,"categories"),(0,h.Xo)("createdAt","desc"));return(0,h.cf)(e,(function(e){var t=e.docs.map((function(e){return(0,o.Z)((0,a.Z)({},e.data()),{id:e.id})}));p(t)}))}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(u.xu,{px:"20",pt:"10",pb:"40",bg:"brand.black",alignItems:"center",color:"brand.white",children:[(0,s.jsx)(u.xv,{mb:"4",fontSize:"1xl",fontWeight:"extrabold",children:"Create Category"}),(0,s.jsx)(d.II,{w:"50%",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Create Category",size:"xl",variant:"flushed",mb:"6"}),(0,s.jsx)(l.zx,{border:"solid 2px #faae01",title:y?"Update":"Add Category",variant:"trainingButton",textTransform:"none",_hover:{background:"gray.500"},_focus:{outline:"none",background:"gray.500"},_active:{outline:"none",background:"gray.500"},ml:"6",onClick:y?function(){return function(e){var r=b.find((function(t){return t.id===e}));r&&(0,h.r7)((0,h.JU)(g.db,"categories",e),(0,o.Z)((0,a.Z)({},r),{key:t.toLowerCase().substring(0,3),name:t})).then((function(){n(""),j(null)})).catch((function(e){console.error("Error updating category in Firestore:",e)}))}(y)}:C,children:y?"Update":"Add Category"}),(0,s.jsxs)(f.mQ,{variant:"unstyled",width:"100%",colorScheme:"yellow",children:[(0,s.jsxs)(f.td,{mb:"2",gap:"80",children:[(0,s.jsx)(f.OK,{fontWeight:"extrabold",children:"Active Categories"}),(0,s.jsx)(f.OK,{fontWeight:"extrabold",children:"Deleted Categories"})]}),(0,s.jsx)(f.cb,{mt:"-10px",height:"2px",bg:"yellow.100",borderRadius:"1px"}),(0,s.jsxs)(f.nP,{children:[(0,s.jsx)(f.x4,{children:(0,s.jsx)(u.kC,{children:(0,s.jsx)(u.xu,{children:b.map((function(e,t){return"active"===e.status&&(0,s.jsxs)(u.xu,{mb:"4",p:"2",textTransform:"capitalize",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:"80",borderRadius:"10",textAlign:"center",border:"solid 2px #faae01",children:[(0,s.jsxs)(u.xu,{ml:"4",display:"flex",children:[(0,s.jsx)(x.XZ,{isChecked:"active"===e.status,colorScheme:"yellow",onChange:function(){var t="active"===e.status?"inactive":"active";(0,h.r7)((0,h.JU)(g.db,"categories",e.id),{status:t})}}),(0,s.jsx)(u.xv,{ml:"2",children:e.name})]}),(0,s.jsx)(u.xu,{children:(0,s.jsx)(l.zx,{border:"solid 2px #faae01",title:"edit",variant:"trainingButton",textTransform:"none",_hover:{background:"gray.500"},_focus:{outline:"none",background:"gray.500"},_active:{outline:"none",background:"gray.500"},ml:"4",onClick:function(){return function(e){var t=b.find((function(t){return t.id===e}));t&&(n(t.name),j(e))}(e.id)},children:"Edit"})})]},t)}))})})}),(0,s.jsx)(f.x4,{children:b.map((function(e,t){return"inactive"===e.status&&(0,s.jsx)(u.xu,{mb:"4",w:"40",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",border:"solid 2px #faae01",children:(0,s.jsxs)(u.xu,{ml:"4",display:"flex",children:[(0,s.jsx)(x.XZ,{isChecked:"active"===e.status,onChange:function(){var t="active"===e.status?"inactive":"active";(0,h.r7)((0,h.JU)(g.db,"categories",e.id),{status:t})}}),(0,s.jsx)(u.xv,{ml:"2",children:e.name})]})},t)}))})]})]})]})})}},43869:function(e,t,n){"use strict";n.d(t,{Fo:function(){return d},f6:function(){return c},yK:function(){return l}});var r=n(67294);var a=n(89164),o=n(20442),i=n(70917),s=n(85893);function c(e){const{cssVarsRoot:t,theme:n,children:i}=e,c=(0,r.useMemo)((()=>(0,a.c0)(n)),[n]);return(0,s.jsxs)(o.a,{theme:c,children:[(0,s.jsx)(u,{root:t}),i]})}function u({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return(0,s.jsx)(i.xB,{styles:e=>({[t]:e.__cssVars})})}var[d,l]=function(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:a}=e,o=(0,r.createContext)(void 0);return o.displayName=a,[o.Provider,function e(){var a;const i=(0,r.useContext)(o);if(!i&&t){const t=new Error(n);throw t.name="ContextError",null==(a=Error.captureStackTrace)||a.call(Error,t,e),t}return i},o]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "})}},function(e){e.O(0,[2016,1551,8646,9315,9839,4102,9774,2888,179],(function(){return t=20130,e(e.s=t);var t}));var t=e.O();_N_E=t}]);