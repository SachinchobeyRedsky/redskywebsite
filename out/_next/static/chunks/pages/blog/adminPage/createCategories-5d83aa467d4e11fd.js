(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{50340:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/adminPage/createCategories",function(){return n(83490)}])},82583:function(e,t,n){"use strict";n.d(t,{db:function(){return s},I:function(){return u}});var r=n(83977),a=n(39828),i=n(91259),o=n(77004),c=(0,r.ZF)({apiKey:"AIzaSyBJA3OU9j2hD3eCcuBK1ufK9KIs7xkijqM",authDomain:"redsky-web.firebaseapp.com",projectId:"redsky-web",storageBucket:"redsky-web.appspot.com",messagingSenderId:"503303012281",appId:"1:503303012281:web:fbadea13c15e03b9c48068",measurementId:"G-75QR2Q2EBR"}),s=(0,a.ad)(c),u=(0,i.v0)(c);(0,o.$C)(c)},83490:function(e,t,n){"use strict";n.r(t);var r=n(34051),a=n.n(r),i=n(85893),o=n(67294),c=n(68527),s=n(4612),u=n(15193),d=n(99839),l=n(68133),f=n(39828),x=n(82583);function b(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}t.default=function(){var e=(0,o.useState)(""),t=e[0],n=e[1],r=(0,o.useState)([]),g=r[0],p=r[1],v=(0,o.useState)(null),m=v[0],y=v[1],j=function(){var e,r=(e=a().mark((function e(){var r,i,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.trim()){e.next=15;break}return r={key:t.toLowerCase().substring(0,3),name:t,createdAt:(0,f.Bt)(),status:"active",count:0},i=(0,f.hJ)(x.db,"categories"),e.next=5,(0,f.PL)((0,f.IO)(i,(0,f.ar)("name","==",t)));case 5:if((o=e.sent).empty){e.next=12;break}return c=o.docs[0],e.next=10,(0,f.r7)(c.ref,h({},r));case 10:e.next=14;break;case 12:return e.next=14,(0,f.ET)(i,h({},r));case 14:n("");case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,c,"next",e)}function c(e){b(i,r,a,o,c,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=(0,f.IO)((0,f.hJ)(x.db,"categories"),(0,f.Xo)("createdAt","desc"));return(0,f.cf)(e,(function(e){var t=e.docs.map((function(e){return h({},e.data(),{id:e.id})}));p(t)}))}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(c.xu,{px:"20",pt:"10",pb:"40",bg:"brand.black",alignItems:"center",color:"brand.white",children:[(0,i.jsx)(c.xv,{mb:"4",fontSize:"1xl",fontWeight:"extrabold",children:"Create Category"}),(0,i.jsx)(s.II,{w:"50%",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Create Category",size:"xl",variant:"flushed",mb:"6"}),(0,i.jsx)(u.zx,{border:"solid 2px #faae01",title:m?"Update":"Add Category",variant:"trainingButton",textTransform:"none",_hover:{background:"gray.500"},_focus:{outline:"none",background:"gray.500"},_active:{outline:"none",background:"gray.500"},ml:"6",onClick:m?function(){return function(e){var r=g.find((function(t){return t.id===e}));r&&(0,f.r7)((0,f.JU)(x.db,"categories",e),h({},r,{key:t.toLowerCase().substring(0,3),name:t})).then((function(){n(""),y(null)})).catch((function(e){console.error("Error updating category in Firestore:",e)}))}(m)}:j,children:m?"Update":"Add Category"}),(0,i.jsxs)(d.mQ,{variant:"unstyled",width:"100%",colorScheme:"yellow",children:[(0,i.jsxs)(d.td,{mb:"2",gap:"80",children:[(0,i.jsx)(d.OK,{fontWeight:"extrabold",children:"Active Categories"}),(0,i.jsx)(d.OK,{fontWeight:"extrabold",children:"Deleted Categories"})]}),(0,i.jsx)(d.cb,{mt:"-10px",height:"2px",bg:"yellow.100",borderRadius:"1px"}),(0,i.jsxs)(d.nP,{children:[(0,i.jsx)(d.x4,{children:(0,i.jsx)(c.kC,{children:(0,i.jsx)(c.xu,{children:g.map((function(e,t){return"active"===e.status&&(0,i.jsxs)(c.xu,{mb:"4",p:"2",textTransform:"capitalize",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:"80",borderRadius:"10",textAlign:"center",border:"solid 2px #faae01",children:[(0,i.jsxs)(c.xu,{ml:"4",display:"flex",children:[(0,i.jsx)(l.XZ,{isChecked:"active"===e.status,colorScheme:"yellow",onChange:function(){var t="active"===e.status?"inactive":"active";(0,f.r7)((0,f.JU)(x.db,"categories",e.id),{status:t})}}),(0,i.jsx)(c.xv,{ml:"2",children:e.name})]}),(0,i.jsx)(c.xu,{children:(0,i.jsx)(u.zx,{border:"solid 2px #faae01",title:"edit",variant:"trainingButton",textTransform:"none",_hover:{background:"gray.500"},_focus:{outline:"none",background:"gray.500"},_active:{outline:"none",background:"gray.500"},ml:"4",onClick:function(){return function(e){var t=g.find((function(t){return t.id===e}));t&&(n(t.name),y(e))}(e.id)},children:"Edit"})})]},t)}))})})}),(0,i.jsx)(d.x4,{children:g.map((function(e,t){return"inactive"===e.status&&(0,i.jsx)(c.xu,{mb:"4",w:"40",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",border:"solid 2px #faae01",children:(0,i.jsxs)(c.xu,{ml:"4",display:"flex",children:[(0,i.jsx)(l.XZ,{isChecked:"active"===e.status,onChange:function(){var t="active"===e.status?"inactive":"active";(0,f.r7)((0,f.JU)(x.db,"categories",e.id),{status:t})}}),(0,i.jsx)(c.xv,{ml:"2",children:e.name})]})},t)}))})]})]})]})})}}},function(e){e.O(0,[2016,4597,9351,4607,9839,2738,9774,2888,179],(function(){return t=50340,e(e.s=t);var t}));var t=e.O();_N_E=t}]);