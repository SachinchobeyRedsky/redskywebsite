"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6799,9706],{82583:function(e,t,n){n.d(t,{I:function(){return s},db:function(){return u}});var r=n(83977),a=n(39828),o=n(91259),i=n(77004),c=(0,r.ZF)({apiKey:"AIzaSyBJA3OU9j2hD3eCcuBK1ufK9KIs7xkijqM",authDomain:"redsky-web.firebaseapp.com",projectId:"redsky-web",storageBucket:"redsky-web.appspot.com",messagingSenderId:"503303012281",appId:"1:503303012281:web:fbadea13c15e03b9c48068",measurementId:"G-75QR2Q2EBR"}),u=(0,a.ad)(c),s=(0,o.v0)(c);(0,i.$C)(c)},86799:function(e,t,n){n.r(t);var r=n(47568),a=n(26042),o=n(69396),i=n(29815),c=n(97582),u=n(85893),s=n(67294),l=n(97375),d=n(68527),f=n(79762),h=n(4612),x=n(99839),p=n(49609),g=n(59876),v=n(39828),b=n(11163),m=n(91259),w=n(82583),j=n(37241),y=n(5526),S=n(9706);t.default=function(){var e,t=(0,s.useState)(!1),n=t[0],Z=(t[1],(0,s.useState)("")),C=Z[0],k=Z[1],I=(0,s.useState)(""),A=I[0],D=(I[1],(0,s.useState)([])),B=D[0],P=D[1],_=(0,s.useState)(""),E=_[0],O=_[1],Q=(0,s.useState)(!1),T=Q[0],z=Q[1],K=(0,s.useState)(!0),M=(K[0],K[1]),F=(0,s.useState)(0),R=F[0],L=F[1],X=(0,s.useState)(!1),N=X[0],Y=X[1],J=(0,s.useState)(""),U=J[0],W=J[1],q=(0,s.useState)({}),$=q[0],G=q[1],H=(0,s.useState)([]),V=H[0],ee=H[1],te=(0,v.hJ)(w.db,"blogData"),ne=(0,v.JU)(w.db,"blogSettings","blogs-counter"),re=(0,m.v0)(),ae=(0,b.useRouter)(),oe=(0,l.qY)(),ie=(oe.isOpen,oe.onOpen,oe.onClose,function(){var e=(0,r.Z)((function(e,t){var n,r,u;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=[],r=t?(0,v.IO)(te,(0,v.Xo)("createdAt","desc"),(0,v.b9)(e),(0,v.TQ)(t)):(0,v.IO)(te,(0,v.Xo)("createdAt","desc"),(0,v.b9)(e)),[4,(0,v.PL)(r)];case 1:return u=c.sent(),O(u.docs[u.docs.length-1]),u.forEach((function(e){n.push((0,o.Z)((0,a.Z)({},e.data()),{id:e.id}))})),P(t?(0,i.Z)(new Set((0,i.Z)(B).concat((0,i.Z)(n)))):(0,i.Z)(n)),M(!1),z(!1),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()),ce=function(){var e=(0,r.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,v.QT)(ne)];case 1:return e=t.sent(),G((0,a.Z)({},e.data())),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,r.Z)((function(e,t,n){var r,u,s;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return r=[],u=n?(0,v.IO)(te,(0,v.ar)("category","==",t),(0,v.Xo)("createdAt","desc"),(0,v.b9)(e),(0,v.TQ)(n)):(0,v.IO)(te,(0,v.ar)("category","==",t),(0,v.Xo)("createdAt","desc"),(0,v.b9)(e)),[4,(0,v.PL)(u)];case 1:return s=c.sent(),O(s.docs[s.docs.length-1]),s.forEach((function(e){r.push((0,o.Z)((0,a.Z)({},e.data()),{id:e.id}))})),P(n?function(e){return(0,i.Z)(new Set((0,i.Z)(e).concat((0,i.Z)(r))))}:(0,i.Z)(r)),z(!1),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),se=function(e){"all"!==e.target.value?(W(e.target.value),Y(!0),P([]),ee([]),z(!0),setTimeout((function(){ue(24,e.target.value,null)}),1e3)):(W(""),Y(!1),P([]),ee([]),z(!0),setTimeout((function(){ie(24,null)}),1e3))},le=function(e){k(e)};(0,s.useEffect)((function(){re.onAuthStateChanged(le)}),[n]),(0,s.useEffect)((function(){z(!0),N||ie(24,null)}),[A]);var de=function(){var e=(0,r.Z)((function(e,t,n){var r,u,s;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return M(!0),z(!0),P([]),""!==e?[3,2]:[4,ie(t,n)];case 1:return c.sent(),[3,4];case 2:return r=[],u=n?(0,v.IO)(te,(0,v.Xo)("createdAt","desc"),(0,v.ar)("titleAsArray","array-contains",e.toLowerCase()),(0,v.b9)(t),(0,v.TQ)(n)):(0,v.IO)(te,(0,v.ar)("titleAsArray","array-contains",e.toLowerCase()),(0,v.b9)(t)),[4,(0,v.PL)(u)];case 3:s=c.sent(),O(s.docs[s.docs.length-1]),s.forEach((function(e){r.push((0,o.Z)((0,a.Z)({},e.data()),{id:e.id}))})),P(n?(0,i.Z)(new Set((0,i.Z)(B).concat((0,i.Z)(r)))):(0,i.Z)(r)),c.label=4;case 4:return M(!1),z(!1),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){ce()}),[]),(0,u.jsx)(d.xu,{w:"100%",ml:"6",children:(0,u.jsxs)(d.xu,{bg:"#101114",children:[(0,u.jsxs)(d.xu,{px:["6","6","10","10","10"],children:[(0,u.jsxs)(d.kC,{direction:"row",gap:"20",mt:"6",justifyContent:["flex-start","flex-start","end","end","end"],children:[" ",(0,u.jsx)(d.xu,{display:"flex",w:["60%","60%","50%","25%","25%"],children:(0,u.jsx)(f.NI,{children:(0,u.jsxs)(h.BZ,{children:[(0,u.jsx)(h.II,{color:"brand.white",variant:"flushed",mb:"4",colorScheme:"#faae12",borderBottom:"2px solid #faae12",placeholder:"Search",onChange:function(e){var t=e.target.value;de(t)}}),(0,u.jsx)(h.xW,{bg:"brand.black",ml:"-10",borderTop:"none",borderRight:"none",children:(0,u.jsx)(g.W1,{zIndex:"999",w:4,h:4,color:"white",cursor:"pointer",onClick:function(){getSearchedBlogData(24,A,null)}})})]})})})]}),(0,u.jsxs)(x.mQ,{variant:"soft-rounded",colorScheme:"tranparant",index:R,onChange:function(e){L(e)},children:[(0,u.jsx)(x.td,{p:"4",gap:["8","8","4","4","4"],overflow:"scroll",w:["90vw","90vw","90vw","90vw","90vw"],sx:{whiteSpace:"nowrap",position:"relative","scroll-snap-type":"x mandatory","-webkit-overflow-scrolling":"touch","::-webkit-scrollbar":{display:"none"}},children:y.dY.map((function(e,t){return(0,u.jsx)(x.OK,{onClick:se,value:e.key,fontSize:"md",bg:"gray.200",_selected:{color:"#faae12",bg:"gray.200",border:"solid 2px #faae01",boxShadow:"0 0 20px  rgba(255, 174, 0, 0.4)"},children:e.keyword},t)}))}),(0,u.jsx)(x.nP,{mt:"2",children:y.dY.map((function(e,t){return(0,u.jsxs)(x.x4,{fontSize:"sm",children:[(0,u.jsx)(d.xu,{mx:"auto",textAlign:"center",children:T?(0,u.jsx)(p.$,{color:"yellow.400",size:"xl",textAlign:"centers"}):null}),(0,u.jsx)(d.kC,{flexDirection:["column","column","column","row","row"],justifyContent:"center",children:(0,u.jsxs)(d.rj,{templateColumns:["repeat(1, 1fr)","repeat(1, 1fr)","repeat(1, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)"],gap:10,children:[" ",V.map((function(e,t){return(0,u.jsx)(d.xu,{cursor:"pointer",children:(0,u.jsx)(j.default,{data:e,currentUser:C,index:t,push:ae.push},t)},t)}))]})})]},t)}))})]})]}),(0,u.jsx)(d.xu,{children:(0,u.jsx)(S.default,{lastFetchedDoc:E,currentPageData:function(e){ee((0,i.Z)(e))},fetchDataFromDB:N?ue:ie,blogsPerPage:6,visiblePages:4,totalBlogCount:B.length>0?B.length:null===(e=$[N?y.dY[R].key:"all"])||void 0===e?void 0:e.count,fetchedData:B,selectedQueryKey:U})})]})})}},9706:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(85893),a=n(67294),o=n(68527),i=n(15193),c=function(e){var t=(0,a.useRef)();return(0,a.useEffect)((function(){t.current=e}),[e]),t.current},u=function(e){var t,n=e.totalBlogCount,u=e.visiblePages,s=e.blogsPerPage,l=e.fetchDataFromDB,d=e.currentPageData,f=e.lastFetchedDoc,h=e.fetchedData,x=e.selectedQueryKey,p=(0,a.useState)(1),g=p[0],v=p[1],b=(0,a.useState)({start:1,end:n>=s?n:u}),m=b[0],w=b[1],j=c(g),y=Math.ceil(n>=s?n/s:1),S=y>1,Z=(0,a.useMemo)((function(){return Array.from({length:m.end-m.start+1},(function(e,t){return m.start+t}))}),[m,g,x]),C=g*s-s,k=g*s,I=function(e){if(v(e),Math.floor((null===Z||void 0===Z?void 0:Z.length)/2)<(null===Z||void 0===Z?void 0:Z.indexOf(e))){var t=m.end+2,n=t-u>0?t-u+1:m.start;w({start:n,end:t<=y?t:y}),l&&l(2*s,f)}else j>e&&Math.floor((null===Z||void 0===Z?void 0:Z.length)/2)>(null===Z||void 0===Z?void 0:Z.indexOf(e))&&(m.start>2?w({start:m.start-2,end:m.end-2}):w({start:1,end:u}))};return(0,a.useEffect)((function(){v(1),w({start:1,end:n>=s?s:n})}),[x,n,s]),(0,a.useEffect)((function(){d&&d(h.slice(C,k))}),[h,k,C]),(0,r.jsx)(r.Fragment,{children:S&&(0,r.jsxs)(o.xu,{display:"flex",justifyContent:"center",my:"8",px:"4",children:[(0,r.jsx)(o.xu,{display:g>1?"":"none",children:(0,r.jsx)(i.zx,{variant:"trainingButton",border:"2px solid #faae12",onClick:function(){return I(g-1)},children:(0,r.jsx)(o.xv,{variant:"gradient",textTransform:"none",children:"Prev"})})}),null===(t=null===Z||void 0===Z?void 0:Z.filter((function(e){return e>0?n>s?e<=Math.ceil(n/s):void 0:n})))||void 0===t?void 0:t.map((function(e,t){return(0,r.jsx)(o.M5,{variant:"trainingButton",mx:[1,1,2,2,2],mt:["2","2","0","0","0"],pb:1,w:["50px","50px","60px","60px","60px"],h:["30px","30px","40px","40px","40px"],borderRadius:"2rem",bg:"gray.300",cursor:"pointer",border:g===e?"solid 2px #faae01":null,boxShadow:g===e?"0 0 20px  rgba(255, 174, 0, 0.6)":null,onClick:function(){return I(e)},children:(0,r.jsx)(o.xv,{fontWeight:"extrabold",variant:g===e?"gradient":"#fff",children:e})},t)})),(0,r.jsx)(i.zx,{variant:"trainingButton",border:"2px solid #faae12",visibility:y>g?"":"hidden",onClick:function(){return I(g+1)},children:(0,r.jsx)(o.xv,{variant:"gradient",textTransform:"none",children:"Next"})})]})})}}}]);